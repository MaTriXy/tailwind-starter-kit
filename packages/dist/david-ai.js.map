{"version":3,"file":"david-ai.js","sources":["../src/utils/loadPopper.js","../src/dropdown/dropdown.js","../src/popover/popover.js","../src/tooltip/tooltip.js","../src/alert/alert.js","../src/collapse/collapse.js","../src/tabs/tabs.js","../src/modal/modal.js","../src/index.js"],"sourcesContent":["var popperLoaded = false; // Singleton flag to track loading state\nvar popperReady = null;   // Promise to handle loading Popper.js once\n\nexport function loadPopperJs() {\n  if (popperLoaded) {\n    return popperReady; // Return the existing Promise if already loading or loaded\n  }\n  popperLoaded = true; // Mark Popper.js as being loaded\n\n  popperReady = new Promise(function (resolve, reject) {\n    if (window.Popper) {\n      resolve(window.Popper); // If already loaded globally, resolve immediately\n      return;\n    }\n    var script = document.createElement(\"script\");\n    script.src = \"https://unpkg.com/@popperjs/core@2\";\n    script.defer = true;\n    script.onload = function () {\n      window.Popper = window.Popper || window.Popper; // Expose Popper globally\n      resolve(window.Popper); // Resolve once Popper.js is loaded\n    };\n    script.onerror = function () {\n      reject(new Error(\"Failed to load Popper.js\"));\n    };\n    document.head.appendChild(script);\n  });\n\n  return popperReady;\n}\n","// Dropdown Component\nimport { loadPopperJs } from '../utils/loadPopper'; // Centralized loader\n\nconst initializedDropdowns = new WeakSet(); // Prevent duplicate initialization\nlet activeDropdowns = []; // Track active dropdowns for cleanup\n\nexport class Dropdown {\n  constructor(dropdownElement) {\n    this.dropdown = dropdownElement;\n    this.button = this.dropdown.querySelector('[data-dui-toggle=\"dropdown\"]');\n    this.menu = this.dropdown.querySelector('[data-dui-role=\"menu\"]');\n    this.popperInstance = null;\n\n    this.placement = this.dropdown.getAttribute(\"data-dui-placement\") || \"bottom-start\";\n\n    this.init();\n  }\n\n  async init() {\n    // Ensure Popper.js is loaded\n    await loadPopperJs();\n\n    // Initialize Popper.js\n    this.popperInstance = Popper.createPopper(this.button, this.menu, {\n      placement: this.placement,\n      modifiers: [{ name: \"offset\", options: { offset: [0, 5] } }],\n    });\n\n    // Add event listeners\n    this.button.addEventListener(\"click\", (e) => {\n      e.stopPropagation();\n      this.toggleDropdown();\n    });\n\n    document.addEventListener(\"click\", (e) => {\n      if (!this.dropdown.contains(e.target)) {\n        this.closeDropdown();\n      }\n    });\n\n    // Track active dropdown for cleanup\n    activeDropdowns.push({ dropdown: this.dropdown, popperInstance: this.popperInstance });\n  }\n\n  toggleDropdown() {\n    const isExpanded = this.button.getAttribute(\"aria-expanded\") === \"true\";\n    isExpanded ? this.closeDropdown() : this.openDropdown();\n  }\n\n  openDropdown() {\n    this.button.setAttribute(\"aria-expanded\", \"true\");\n    this.menu.hidden = false;\n    this.menu.classList.remove(\"hidden\");\n    this.popperInstance.update();\n  }\n\n  closeDropdown() {\n    this.button.setAttribute(\"aria-expanded\", \"false\");\n    this.menu.hidden = true;\n    this.menu.classList.add(\"hidden\");\n  }\n}\n\nexport function initDropdowns() {\n  document.querySelectorAll(\".dropdown\").forEach((dropdownElement) => {\n    if (!initializedDropdowns.has(dropdownElement)) {\n      new Dropdown(dropdownElement);\n      initializedDropdowns.add(dropdownElement);\n    }\n  });\n}\n\n// Cleanup function to destroy all active dropdowns\nexport function cleanupDropdowns() {\n  activeDropdowns.forEach(({ dropdown, popperInstance }) => {\n    if (popperInstance) popperInstance.destroy();\n    if (dropdown) initializedDropdowns.delete(dropdown);\n  });\n  activeDropdowns = [];\n}\n\n// Combined initialization function\nexport async function loadAndInitDropdowns() {\n  await loadPopperJs();\n  initDropdowns();\n}\n\n// Auto-initialize Dropdowns in the Browser Environment\nif (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\n  document.addEventListener(\"DOMContentLoaded\", () => {\n    loadAndInitDropdowns();\n\n    // Observe the DOM for dynamically added dropdowns\n    const observer = new MutationObserver(() => {\n      initDropdowns();\n    });\n    observer.observe(document.body, { childList: true, subtree: true });\n  });\n}\n","import { loadPopperJs } from '../utils/loadPopper';\n\nconst initializedPopovers = new WeakSet(); // Prevent duplicate initialization\nlet activePopovers = []; // Track active popovers for cleanup\n\nexport function initPopovers() {\n  document.querySelectorAll(\"[data-dui-toggle='popover']\").forEach((trigger) => {\n    if (initializedPopovers.has(trigger)) return; // Avoid re-initializing\n\n    const placement = trigger.getAttribute(\"data-dui-placement\") || \"top\";\n    const popoverClasses = trigger.getAttribute(\"data-dui-popover-class\") || \"popover-default\";\n    const plainContent = trigger.getAttribute(\"data-dui-content\");\n    const isOpenByDefault = trigger.hasAttribute(\"data-dui-open\");\n\n    let popoverInstance = null;\n    let popoverElement = null;\n    let originalContentElement = null;\n\n    // Find content element next to the trigger\n    const contentElement = trigger.nextElementSibling?.matches(\"[data-dui-popover-content]\")\n      ? trigger.nextElementSibling\n      : null;\n\n    // Function to open the popover\n    async function openPopover() {\n      await loadPopperJs();\n\n      popoverElement = document.createElement(\"div\");\n      popoverElement.className = popoverClasses;\n\n      // Use custom HTML content or plain text\n      if (contentElement) {\n        originalContentElement = contentElement.cloneNode(true);\n        originalContentElement.classList.remove(\"hidden\");\n        popoverElement.appendChild(originalContentElement);\n      } else if (plainContent) {\n        popoverElement.textContent = plainContent;\n      } else {\n        console.error(\"No content provided for popover:\", trigger);\n        return;\n      }\n\n      document.body.appendChild(popoverElement);\n\n      popoverInstance = Popper.createPopper(trigger, popoverElement, {\n        placement: placement,\n        modifiers: [{ name: \"offset\", options: { offset: [0, 8] } }],\n      });\n\n      // Track active popovers for cleanup\n      activePopovers.push({ trigger, popoverElement, popoverInstance });\n    }\n\n    // Function to close the popover\n    function closePopover() {\n      if (popoverInstance) {\n        popoverInstance.destroy();\n        popoverInstance = null;\n\n        if (originalContentElement) {\n          originalContentElement.classList.add(\"hidden\");\n        }\n\n        popoverElement.remove();\n        popoverElement = null;\n      }\n\n      // Remove from active popovers\n      activePopovers = activePopovers.filter((p) => p.trigger !== trigger);\n    }\n\n    // Toggle popover on click\n    trigger.addEventListener(\"click\", (event) => {\n      event.stopPropagation();\n      if (popoverInstance) {\n        closePopover();\n      } else {\n        openPopover();\n      }\n    });\n\n    // Open popover by default if specified\n    if (isOpenByDefault) {\n      openPopover();\n    }\n\n    // Mark as initialized\n    initializedPopovers.add(trigger);\n  });\n}\n\n// Cleanup function to destroy all active popovers\nexport function cleanupPopovers() {\n  activePopovers.forEach(({ popoverElement, popoverInstance }) => {\n    if (popoverInstance) popoverInstance.destroy();\n    if (popoverElement) popoverElement.remove();\n  });\n  activePopovers = [];\n  initializedPopovers.delete(); // Clear initialized elements\n}\n\n// Combined initialization function\nexport async function loadAndInitPopovers() {\n  await loadPopperJs();\n  initPopovers();\n}\n\n// Auto-initialize Popovers in the Browser Environment\nif (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\n  document.addEventListener(\"DOMContentLoaded\", () => {\n    loadAndInitPopovers();\n\n    // Observe the DOM for dynamically added popovers\n    const observer = new MutationObserver(() => {\n      initPopovers(); // Reinitialize popovers when new elements are added\n    });\n    observer.observe(document.body, { childList: true, subtree: true });\n  });\n}\n","import { loadPopperJs } from '../utils/loadPopper';\n\nconst initializedTooltips = new WeakSet(); // Track initialized tooltips\nlet activeTooltips = []; // Track active tooltips for cleanup\n\nexport function initTooltips() {\n  document.querySelectorAll(\"[data-dui-toggle='tooltip']\").forEach((trigger) => {\n    if (initializedTooltips.has(trigger)) return; // Skip already initialized tooltips\n\n    const title = trigger.getAttribute(\"data-dui-title\"); // Tooltip text content\n    const placement = trigger.getAttribute(\"data-dui-placement\") || \"top\";\n    const tooltipClasses = trigger.getAttribute(\"data-dui-tooltip-class\") || \"tooltip-default\";\n    let tooltipInstance = null;\n    let tooltipElement = null;\n    let customContentElement = null;\n\n    // Check for custom HTML content in sibling\n    if (trigger.nextElementSibling?.matches(\"[data-dui-tooltip-content]\")) {\n      customContentElement = trigger.nextElementSibling;\n    }\n\n    // Function to show the tooltip\n    async function showTooltip() {\n      if (tooltipElement) return; // Avoid creating multiple tooltips\n      await loadPopperJs(); // Ensure Popper.js is loaded\n\n      tooltipElement = document.createElement(\"div\");\n      tooltipElement.className = tooltipClasses;\n\n      // Add custom HTML or plain text to tooltip\n      if (customContentElement) {\n        const contentClone = customContentElement.cloneNode(true);\n        contentClone.classList.remove(\"hidden\");\n        tooltipElement.appendChild(contentClone);\n      } else if (title) {\n        tooltipElement.textContent = title;\n      } else {\n        console.warn(\"No tooltip content provided for:\", trigger);\n        return;\n      }\n\n      document.body.appendChild(tooltipElement);\n\n      tooltipInstance = Popper.createPopper(trigger, tooltipElement, {\n        placement: placement,\n        modifiers: [{ name: \"offset\", options: { offset: [0, 8] } }],\n      });\n\n      // Track active tooltip for cleanup\n      activeTooltips.push({ trigger, tooltipElement, tooltipInstance });\n    }\n\n    // Function to hide the tooltip\n    function hideTooltip() {\n      if (tooltipInstance) {\n        tooltipInstance.destroy();\n        tooltipInstance = null;\n      }\n\n      if (tooltipElement) {\n        tooltipElement.remove();\n        tooltipElement = null;\n      }\n\n      // Remove from active tooltips\n      activeTooltips = activeTooltips.filter((t) => t.trigger !== trigger);\n    }\n\n    // Event listeners for showing and hiding tooltips\n    trigger.addEventListener(\"mouseenter\", showTooltip);\n    trigger.addEventListener(\"mouseleave\", hideTooltip);\n\n    // Mark the trigger as initialized\n    initializedTooltips.add(trigger);\n  });\n}\n\n// Cleanup function to remove all active tooltips\nexport function cleanupTooltips() {\n  activeTooltips.forEach(({ tooltipElement, tooltipInstance }) => {\n    if (tooltipInstance) tooltipInstance.destroy();\n    if (tooltipElement) tooltipElement.remove();\n  });\n  activeTooltips = [];\n}\n\n// Combined initialization and loading function\nexport async function loadAndInitTooltips() {\n  await loadPopperJs();\n  initTooltips();\n}\n\n// Auto-initialize Tooltips in the browser\nif (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\n  document.addEventListener(\"DOMContentLoaded\", () => {\n    loadAndInitTooltips();\n\n    // Observe DOM for dynamically added tooltips\n    const observer = new MutationObserver(() => {\n      initTooltips();\n    });\n    observer.observe(document.body, { childList: true, subtree: true });\n  });\n}\n","// Alert component\nconst initializedElements = new WeakSet();\n\nexport function closeAlert(event) {\n  const button = event.currentTarget;\n  const alert = button.closest('[role=\"alert\"]');\n  if (alert) {\n    alert.remove(); // Remove the alert\n  }\n}\n\nexport function initAlert() {\n  document.querySelectorAll(\"[data-dui-dismiss='alert']\").forEach((button) => {\n    if (!initializedElements.has(button)) {\n      button.addEventListener(\"click\", closeAlert);\n      initializedElements.add(button);\n    }\n  });\n}\n\n// Auto-initialize on DOMContentLoaded and observe dynamically added elements\nif (typeof window !== \"undefined\") {\n  document.addEventListener(\"DOMContentLoaded\", () => {\n    initAlert(); // Initialize alerts after DOM is loaded\n\n    // Observe the DOM for dynamically added alerts\n    const observer = new MutationObserver(() => {\n      initAlert(); // Re-initialize alerts when new elements are added\n    });\n    observer.observe(document.body, { childList: true, subtree: true });\n  });\n}","// Collapse component\nconst initializedElements = new WeakSet();\n\nexport function toggleCollapse(event) {\n  const collapseID = event.currentTarget.getAttribute(\"data-dui-target\");\n\n  if (collapseID && collapseID.startsWith(\"#\")) {\n    const collapseElement = document.querySelector(collapseID);\n    const isExpanded =\n      event.currentTarget.getAttribute(\"aria-expanded\") === \"true\";\n\n    if (collapseElement) {\n      // Toggle max-height for collapsible content\n      collapseElement.style.maxHeight = isExpanded\n        ? \"0\"\n        : collapseElement.scrollHeight + \"px\";\n\n      // Update aria-expanded attribute\n      event.currentTarget.setAttribute(\"aria-expanded\", !isExpanded);\n\n      // Toggle rotate-180 class on the icon\n      const icon = event.currentTarget.querySelector(\"[data-dui-icon]\");\n      if (icon) {\n        icon.classList.toggle(\"rotate-180\", !isExpanded);\n      }\n    }\n  }\n}\n\nexport function initCollapse() {\n  document\n    .querySelectorAll(\"[data-dui-toggle='collapse']\")\n    .forEach((button) => {\n      if (!initializedElements.has(button)) {\n        button.addEventListener(\"click\", toggleCollapse);\n        initializedElements.add(button); // Mark as initialized\n      }\n    });\n}\n\n// Auto-initialize on DOMContentLoaded and observe dynamically added elements\nif (typeof window !== \"undefined\") {\n  document.addEventListener(\"DOMContentLoaded\", () => {\n    initCollapse(); // Initialize collapsibles after DOM is loaded\n\n    // Observe the DOM for dynamically added collapsible elements\n    const observer = new MutationObserver(() => {\n      initCollapse(); // Re-initialize collapsibles when new elements are added\n    });\n    observer.observe(document.body, { childList: true, subtree: true });\n  });\n}\n","const initializedTabs = new WeakSet(); // Track initialized tabs for preventing duplication\n\nexport function initTabs() {\n  document.querySelectorAll(\".tab-group\").forEach((tabGroup) => {\n    if (initializedTabs.has(tabGroup)) return; // Avoid re-initializing the same tab group\n\n    const tabList = tabGroup.querySelector(\"[role='tablist']\");\n    const tabLinks = tabList.querySelectorAll(\".tab-link\");\n    const tabContents = tabGroup.querySelectorAll(\".tab-content\");\n    const indicator = tabList.querySelector(\".tab-indicator\");\n    const isVertical = tabGroup.getAttribute(\"data-dui-orientation\") === \"vertical\";\n\n    // Function to update the indicator's position dynamically\n    function updateIndicator(link) {\n      const rect = link.getBoundingClientRect();\n      const parentRect = tabList.getBoundingClientRect();\n\n      requestAnimationFrame(() => {\n        if (isVertical) {\n          indicator.style.transform = `translateY(${rect.top - parentRect.top}px)`;\n          indicator.style.height = `${rect.height}px`;\n        } else {\n          indicator.style.transform = `translateX(${rect.left - parentRect.left}px)`;\n          indicator.style.width = `${rect.width}px`;\n        }\n\n        // Make the indicator visible\n        indicator.classList.remove(\"hidden\");\n        indicator.style.opacity = \"1\";\n        indicator.style.scale = \"1\";\n      });\n    }\n\n    // Function to activate the selected tab\n    function activateTab(link) {\n      // Deactivate all tabs and hide their content\n      tabLinks.forEach((item) => item.classList.remove(\"active\"));\n      tabContents.forEach((content) => {\n        content.classList.add(\"hidden\");\n        content.classList.remove(\"block\");\n      });\n\n      // Activate the clicked tab\n      link.classList.add(\"active\");\n      const targetContent = document.getElementById(link.getAttribute(\"data-dui-tab-target\"));\n      if (targetContent) {\n        targetContent.classList.add(\"block\");\n        targetContent.classList.remove(\"hidden\");\n      }\n\n      // Update the indicator position\n      updateIndicator(link);\n    }\n\n    // Initialize the tab group\n    function initializeTabGroup() {\n      const activeLink = tabList.querySelector(\".tab-link.active\");\n      if (activeLink) {\n        activateTab(activeLink); // Set indicator for the initially active tab\n      } else if (tabLinks.length > 0) {\n        activateTab(tabLinks[0]); // Fallback to the first tab if no active tab is defined\n      }\n\n      // Attach click listeners to each tab link\n      tabLinks.forEach((link) => {\n        link.addEventListener(\"click\", (event) => {\n          event.preventDefault(); // Prevent default browser behavior\n          activateTab(link); // Activate the clicked tab and update the indicator\n        });\n      });\n    }\n\n    initializeTabGroup();\n    initializedTabs.add(tabGroup); // Mark the tab group as initialized\n  });\n}\n\n// Cleanup function for tabs\nexport function cleanupTabs() {\n  initializedTabs.forEach((tabGroup) => {\n    const tabList = tabGroup.querySelector(\"[role='tablist']\");\n    const tabLinks = tabList.querySelectorAll(\".tab-link\");\n\n    // Remove event listeners from tab links\n    tabLinks.forEach((link) => {\n      const clone = link.cloneNode(true);\n      link.parentNode.replaceChild(clone, link);\n    });\n  });\n\n  initializedTabs.delete(); // Clear the WeakSet\n}\n\n// Auto-initialize tabs in the browser\nif (typeof window !== \"undefined\") {\n  document.addEventListener(\"DOMContentLoaded\", () => {\n    initTabs();\n\n    // Observe DOM changes to reinitialize tabs dynamically\n    const observer = new MutationObserver(() => {\n      initTabs();\n    });\n    observer.observe(document.body, { childList: true, subtree: true });\n  });\n}\n","const initializedModals = new WeakSet();\nlet activeModals = []; // Track active modals for cleanup\n\nexport function toggleModal(event) {\n  const modalID = event.currentTarget.getAttribute(\"data-dui-target\");\n  const modal = document.querySelector(modalID);\n\n  if (modal) {\n    const isHidden = modal.classList.contains(\"pointer-events-none\");\n    modal.classList.toggle(\"opacity-0\", !isHidden);\n\n    if (isHidden) {\n      modal.classList.remove(\"pointer-events-none\");\n    } else {\n      setTimeout(() => modal.classList.add(\"pointer-events-none\"), 300);\n    }\n\n    modal.classList.toggle(\"opacity-100\", isHidden);\n    const modalContent = modal.querySelector(isHidden ? \".scale-95\" : \".scale-100\");\n    modalContent.classList.toggle(\"scale-95\", !isHidden);\n    modalContent.classList.toggle(\"scale-100\", isHidden);\n    modal.setAttribute(\"aria-hidden\", !isHidden);\n\n    // Add or remove event listener for clicks outside modal content\n    if (isHidden) {\n      modal.addEventListener(\"click\", closeOnOutsideClick);\n    } else {\n      modal.removeEventListener(\"click\", closeOnOutsideClick);\n    }\n\n    // Track active modal for cleanup\n    if (isHidden) {\n      activeModals.push(modal);\n    } else {\n      activeModals = activeModals.filter((m) => m !== modal);\n    }\n  }\n}\n\nexport function closeModal(event) {\n  const modal = event.currentTarget.closest(\".fixed\");\n\n  if (modal) {\n    modal.classList.add(\"opacity-0\");\n    modal.classList.remove(\"opacity-100\");\n    const modalContent = modal.querySelector(\".scale-100\");\n    modalContent.classList.add(\"scale-95\");\n    modalContent.classList.remove(\"scale-100\");\n\n    setTimeout(() => {\n      modal.classList.add(\"pointer-events-none\");\n      modal.setAttribute(\"aria-hidden\", \"true\");\n    }, 300);\n\n    modal.removeEventListener(\"click\", closeOnOutsideClick);\n\n    // Remove from active modals\n    activeModals = activeModals.filter((m) => m !== modal);\n  }\n}\n\nfunction closeOnOutsideClick(event) {\n  const modalContent = event.currentTarget.querySelector(\".scale-100, .scale-95\");\n\n  if (!modalContent.contains(event.target)) {\n    closeModal({ currentTarget: event.currentTarget });\n  }\n}\n\nexport function initModal() {\n  document.querySelectorAll(\"[data-dui-toggle='modal']\").forEach((trigger) => {\n    if (!initializedModals.has(trigger)) {\n      trigger.addEventListener(\"click\", toggleModal);\n      initializedModals.add(trigger);\n    }\n  });\n\n  document.querySelectorAll(\"[data-dui-dismiss='modal']\").forEach((button) => {\n    if (!initializedModals.has(button)) {\n      button.addEventListener(\"click\", closeModal);\n      initializedModals.add(button);\n    }\n  });\n}\n\n// Cleanup function to destroy active modals and event listeners\nexport function cleanupModals() {\n  activeModals.forEach((modal) => {\n    modal.removeEventListener(\"click\", closeOnOutsideClick);\n  });\n  activeModals = [];\n  initializedModals.delete(); // Clear initialized modals to allow reinitialization\n}\n\n// Auto-initialize Modals in the Browser Environment\nif (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\n  document.addEventListener(\"DOMContentLoaded\", () => {\n    initModal();\n\n    // Observe the DOM for dynamically added modals\n    const observer = new MutationObserver(() => {\n      initModal(); // Reinitialize modals when new elements are added\n    });\n    observer.observe(document.body, { childList: true, subtree: true });\n  });\n}\n","import { loadPopperJs } from './utils/loadPopper.js';\n\n// Import components\nimport { initDropdowns, cleanupDropdowns } from './dropdown/dropdown.js';\nimport { initPopovers, cleanupPopovers } from './popover/popover.js';\nimport { initTooltips, cleanupTooltips } from './tooltip/tooltip.js';\nimport { initAlert } from './alert/alert.js';\nimport { initCollapse } from './collapse/collapse.js';\nimport { initTabs, cleanupTabs } from './tabs/tabs.js';\nimport { initModal, cleanupModals } from './modal/modal.js';\n\n// Export individual components for named imports\nexport {\n  initAlert,\n  initCollapse,\n  initDropdowns,\n  cleanupDropdowns,\n  initPopovers,\n  cleanupPopovers,\n  initTooltips,\n  cleanupTooltips,\n  initTabs,\n  cleanupTabs,\n  initModal,\n  cleanupModals,\n};\n\n// Combine all features into a global object\nconst DavidAI = {\n  initAlert,\n  initCollapse,\n  initDropdowns,\n  cleanupDropdowns,\n  initPopovers,\n  cleanupPopovers,\n  initTooltips,\n  cleanupTooltips,\n  initTabs,\n  cleanupTabs,\n  initModal,\n  cleanupModals,\n};\n\n// **Global Initialization Function**\nexport function initDavidAI() {\n  // Initialize Popper-independent components\n  initAlert();\n  initCollapse();\n  initTabs();\n  initModal();\n\n  // Load Popper.js once, then initialize Popper-dependent components\n  loadPopperJs()\n    .then(() => {\n      initDropdowns();\n      initPopovers();\n      initTooltips();\n    })\n    .catch((error) => {\n      console.error(\"Failed to load Popper.js:\", error);\n    });\n}\n\n// Auto-initialize components in the browser environment\nif (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\n  document.addEventListener(\"DOMContentLoaded\", () => {\n    // Use the global initializer\n    initDavidAI();\n\n    // Observe DOM for dynamically added elements to auto-initialize\n    const observer = new MutationObserver(() => {\n      initAlert();\n      initCollapse();\n      initTabs();\n      initModal();\n      initDropdowns();\n      initPopovers();\n      initTooltips();\n    });\n\n    observer.observe(document.body, { childList: true, subtree: true });\n\n    // Expose DavidAI globally for UMD\n    window.DavidAI = { ...DavidAI, initDavidAI };\n  });\n}\n\nexport default { ...DavidAI, initDavidAI };\n"],"names":["popperLoaded","popperReady","loadPopperJs","Promise","resolve","reject","window","Popper","script","document","createElement","src","defer","onload","onerror","Error","head","appendChild","initializedDropdowns","WeakSet","activeDropdowns","Dropdown","dropdownElement","_classCallCheck","dropdown","button","querySelector","menu","popperInstance","placement","getAttribute","init","_createClass","key","value","_init","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this","wrap","_callee$","_context","prev","next","createPopper","modifiers","name","options","offset","addEventListener","e","stopPropagation","toggleDropdown","contains","target","closeDropdown","push","stop","apply","arguments","isExpanded","openDropdown","setAttribute","hidden","classList","remove","update","add","initDropdowns","querySelectorAll","forEach","has","cleanupDropdowns","_ref","destroy","loadAndInitDropdowns","_loadAndInitDropdowns","_callee2","_callee2$","_context2","observer","MutationObserver","observe","body","childList","subtree","initializedPopovers","activePopovers","initPopovers","trigger","_trigger$nextElementS","popoverClasses","plainContent","isOpenByDefault","hasAttribute","popoverInstance","popoverElement","originalContentElement","contentElement","nextElementSibling","matches","openPopover","_openPopover","className","cloneNode","textContent","console","error","abrupt","closePopover","filter","p","event","cleanupPopovers","loadAndInitPopovers","_loadAndInitPopovers","initializedTooltips","activeTooltips","initTooltips","title","tooltipClasses","tooltipInstance","tooltipElement","customContentElement","showTooltip","_showTooltip","contentClone","warn","hideTooltip","t","cleanupTooltips","loadAndInitTooltips","_loadAndInitTooltips","initializedElements","closeAlert","currentTarget","alert","closest","initAlert","toggleCollapse","collapseID","startsWith","collapseElement","style","maxHeight","scrollHeight","icon","toggle","initCollapse","initializedTabs","initTabs","tabGroup","tabList","tabLinks","tabContents","indicator","isVertical","updateIndicator","link","rect","getBoundingClientRect","parentRect","requestAnimationFrame","transform","concat","top","height","left","width","opacity","scale","activateTab","item","content","targetContent","getElementById","initializeTabGroup","activeLink","length","preventDefault","cleanupTabs","clone","parentNode","replaceChild","initializedModals","activeModals","toggleModal","modalID","modal","isHidden","setTimeout","modalContent","closeOnOutsideClick","removeEventListener","m","closeModal","initModal","cleanupModals","DavidAI","initDavidAI","then","_objectSpread"],"mappings":"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"}