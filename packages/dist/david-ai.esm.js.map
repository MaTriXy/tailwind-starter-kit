{"version":3,"file":"david-ai.esm.js","sources":["../src/utils/loadPopper.js","../src/dropdown/dropdown.js","../src/popover/popover.js","../src/tooltip/tooltip.js","../src/alert/alert.js","../src/collapse/collapse.js","../src/tabs/tabs.js","../src/modal/modal.js","../src/index.js"],"sourcesContent":["var popperLoaded = false; // Singleton flag to track loading state\nvar popperReady = null;   // Promise to handle loading Popper.js once\n\nexport function loadPopperJs() {\n  if (popperLoaded) {\n    return popperReady; // Return the existing Promise if already loading or loaded\n  }\n  popperLoaded = true; // Mark Popper.js as being loaded\n\n  popperReady = new Promise(function (resolve, reject) {\n    if (window.Popper) {\n      resolve(window.Popper); // If already loaded globally, resolve immediately\n      return;\n    }\n    var script = document.createElement(\"script\");\n    script.src = \"https://unpkg.com/@popperjs/core@2\";\n    script.defer = true;\n    script.onload = function () {\n      window.Popper = window.Popper || window.Popper; // Expose Popper globally\n      resolve(window.Popper); // Resolve once Popper.js is loaded\n    };\n    script.onerror = function () {\n      reject(new Error(\"Failed to load Popper.js\"));\n    };\n    document.head.appendChild(script);\n  });\n\n  return popperReady;\n}\n","// Dropdown component\nimport { loadPopperJs } from '../utils/loadPopper'; // Centralized loader\n\nconst initializedDropdowns = new WeakSet();\n\nexport class Dropdown {\n  constructor(dropdownElement) {\n    this.dropdown = dropdownElement;\n    this.button = this.dropdown.querySelector('[data-dui-toggle=\"dropdown\"]');\n    this.menu = this.dropdown.querySelector('[data-dui-role=\"menu\"]');\n    this.popperInstance = null;\n\n    this.placement = this.dropdown.getAttribute(\"data-dui-placement\") || \"bottom-start\";\n\n    this.init();\n  }\n\n  async init() {\n    // Ensure Popper.js is loaded\n    await loadPopperJs();\n\n    // Initialize Popper.js\n    this.popperInstance = Popper.createPopper(this.button, this.menu, {\n      placement: this.placement,\n      modifiers: [{ name: \"offset\", options: { offset: [0, 5] } }],\n    });\n\n    // Event listeners\n    this.button.addEventListener(\"click\", (e) => {\n      e.stopPropagation();\n      this.toggleDropdown();\n    });\n\n    document.addEventListener(\"click\", (e) => {\n      if (!this.dropdown.contains(e.target)) this.closeDropdown();\n    });\n  }\n\n  toggleDropdown() {\n    const isExpanded = this.button.getAttribute(\"aria-expanded\") === \"true\";\n    isExpanded ? this.closeDropdown() : this.openDropdown();\n  }\n\n  openDropdown() {\n    this.button.setAttribute(\"aria-expanded\", \"true\");\n    this.menu.hidden = false;\n    this.menu.classList.remove(\"hidden\");\n    this.popperInstance.update();\n  }\n\n  closeDropdown() {\n    this.button.setAttribute(\"aria-expanded\", \"false\");\n    this.menu.hidden = true;\n    this.menu.classList.add(\"hidden\");\n  }\n}\n\nexport function initDropdowns() {\n  document.querySelectorAll(\".dropdown\").forEach((dropdownElement) => {\n    if (!initializedDropdowns.has(dropdownElement)) {\n      new Dropdown(dropdownElement);\n      initializedDropdowns.add(dropdownElement);\n    }\n  });\n}\n","// Popover Component\nimport { loadPopperJs } from '../utils/loadPopper';\n\nconst initializedPopovers = new WeakSet(); // Prevent duplicate initialization\nlet activePopovers = []; // Track active popovers for cleanup\n\nexport function initPopovers() {\n  document.querySelectorAll(\"[data-dui-toggle='popover']\").forEach((trigger) => {\n    if (initializedPopovers.has(trigger)) return; // Avoid re-initializing\n\n    const placement = trigger.getAttribute(\"data-dui-placement\") || \"top\";\n    const popoverClasses = trigger.getAttribute(\"data-dui-popover-class\") || \"popover-default\";\n    const plainContent = trigger.getAttribute(\"data-dui-content\");\n    const isOpenByDefault = trigger.hasAttribute(\"data-dui-open\");\n\n    let popoverInstance = null;\n    let popoverElement = null;\n    let originalContentElement = null;\n\n    // Find content element next to the trigger\n    const contentElement = trigger.nextElementSibling?.matches(\"[data-dui-popover-content]\")\n      ? trigger.nextElementSibling\n      : null;\n\n    // Function to open the popover\n    function openPopover() {\n      popoverElement = document.createElement(\"div\");\n      popoverElement.className = popoverClasses;\n\n      // Use custom HTML content or plain text\n      if (contentElement) {\n        originalContentElement = contentElement.cloneNode(true);\n        originalContentElement.classList.remove(\"hidden\");\n        popoverElement.appendChild(originalContentElement);\n      } else if (plainContent) {\n        popoverElement.textContent = plainContent;\n      } else {\n        console.error(\"No content provided for popover:\", trigger);\n        return;\n      }\n\n      document.body.appendChild(popoverElement);\n\n      popoverInstance = Popper.createPopper(trigger, popoverElement, {\n        placement: placement,\n        modifiers: [{ name: \"offset\", options: { offset: [0, 8] } }],\n      });\n\n      // Track active popovers for cleanup\n      activePopovers.push({ trigger, popoverElement, popoverInstance });\n    }\n\n    // Function to close the popover\n    function closePopover() {\n      if (popoverInstance) {\n        popoverInstance.destroy();\n        popoverInstance = null;\n\n        if (originalContentElement) {\n          originalContentElement.classList.add(\"hidden\");\n        }\n\n        popoverElement.remove();\n        popoverElement = null;\n      }\n\n      // Remove from active popovers\n      activePopovers = activePopovers.filter((p) => p.trigger !== trigger);\n    }\n\n    // Toggle popover on click\n    trigger.addEventListener(\"click\", (event) => {\n      event.stopPropagation();\n      if (popoverInstance) {\n        closePopover();\n      } else {\n        openPopover();\n      }\n    });\n\n    // Open popover by default if specified\n    if (isOpenByDefault) {\n      openPopover();\n    }\n\n    // Mark as initialized\n    initializedPopovers.add(trigger);\n  });\n}\n\n// Cleanup function to destroy all active popovers\nexport function cleanupPopovers() {\n  activePopovers.forEach(({ popoverElement, popoverInstance }) => {\n    if (popoverInstance) popoverInstance.destroy();\n    if (popoverElement) popoverElement.remove();\n  });\n  activePopovers = [];\n}\n\n// Combined initialization function\nexport async function loadAndInitPopovers() {\n  await loadPopperJs();\n  initPopovers();\n}\n\n// Auto-initialize Popovers in the Browser Environment\nif (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\n  loadAndInitPopovers();\n}\n","// Tooltip Component\nimport { loadPopperJs } from '../utils/loadPopper';\n\nconst initializedTooltips = new WeakSet(); // Prevent duplicate initialization\nlet activeTooltips = []; // Track active tooltips for cleanup\n\nexport function initTooltips() {\n  document.querySelectorAll(\"[data-dui-toggle='tooltip']\").forEach((trigger) => {\n    if (initializedTooltips.has(trigger)) return; // Avoid re-initializing\n\n    const title = trigger.getAttribute(\"data-dui-title\"); // Plain text content\n    const placement = trigger.getAttribute(\"data-dui-placement\") || \"top\";\n    const tooltipClasses = trigger.getAttribute(\"data-dui-tooltip-class\") || \"tooltip-default\";\n\n    let tooltipInstance = null;\n    let tooltipElement = null;\n    let customContentElement = null;\n\n    // Check for sibling content with custom HTML\n    if (trigger.nextElementSibling?.matches(\"[data-dui-tooltip-content]\")) {\n      customContentElement = trigger.nextElementSibling;\n    }\n\n    // Function to show the tooltip\n    function showTooltip() {\n      tooltipElement = document.createElement(\"div\");\n      tooltipElement.className = tooltipClasses;\n\n      // Use custom HTML content or plain text\n      if (customContentElement) {\n        const contentClone = customContentElement.cloneNode(true);\n        contentClone.classList.remove(\"hidden\");\n        tooltipElement.appendChild(contentClone);\n      } else if (title) {\n        tooltipElement.textContent = title;\n      } else {\n        console.warn(\"No tooltip content provided for:\", trigger);\n        return;\n      }\n\n      document.body.appendChild(tooltipElement);\n\n      tooltipInstance = Popper.createPopper(trigger, tooltipElement, {\n        placement: placement,\n        modifiers: [{ name: \"offset\", options: { offset: [0, 8] } }],\n      });\n\n      // Track active tooltips for cleanup\n      activeTooltips.push({ trigger, tooltipElement, tooltipInstance });\n    }\n\n    // Function to hide the tooltip\n    function hideTooltip() {\n      if (tooltipInstance) {\n        tooltipInstance.destroy();\n        tooltipInstance = null;\n      }\n\n      if (tooltipElement) {\n        tooltipElement.remove();\n        tooltipElement = null;\n      }\n\n      // Remove from active tooltips\n      activeTooltips = activeTooltips.filter((t) => t.trigger !== trigger);\n    }\n\n    // Add event listeners for showing and hiding tooltips\n    trigger.addEventListener(\"mouseenter\", showTooltip);\n    trigger.addEventListener(\"mouseleave\", hideTooltip);\n\n    // Mark as initialized\n    initializedTooltips.add(trigger);\n  });\n}\n\n// Cleanup function to destroy all active tooltips\nexport function cleanupTooltips() {\n  activeTooltips.forEach(({ tooltipElement, tooltipInstance }) => {\n    if (tooltipInstance) tooltipInstance.destroy();\n    if (tooltipElement) tooltipElement.remove();\n  });\n  activeTooltips = [];\n}\n\n// Combined initialization function\nexport async function loadAndInitTooltips() {\n  await loadPopperJs();\n  initTooltips();\n}\n\n// Auto-initialize Tooltips in the Browser Environment\nif (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\n  loadAndInitTooltips();\n}\n","// src/alert/alert.js\n\nconst initializedElements = new WeakSet();\n\nexport function closeAlert(event) {\n  const button = event.currentTarget;\n  const alert = button.closest('[role=\"alert\"]');\n  if (alert) {\n    alert.remove(); // Remove the alert\n  }\n}\n\nexport function initAlert() {\n  // Attach event listeners only to buttons that haven't been initialized\n  document.querySelectorAll(\"[data-dui-dismiss='alert']\").forEach((button) => {\n    if (!initializedElements.has(button)) {\n      button.addEventListener(\"click\", closeAlert);\n      initializedElements.add(button); // Track this button as initialized\n    }\n  });\n}\n\n// Auto-initialize if running in a browser environment\nif (typeof window !== 'undefined') {\n  initAlert();\n}\n","// Collapse component\nconst initializedElements = new WeakSet();\n\nexport function toggleCollapse(event) {\n  const collapseID = event.currentTarget.getAttribute(\"data-dui-target\");\n\n  if (collapseID && collapseID.startsWith(\"#\")) {\n    const collapseElement = document.querySelector(collapseID);\n    const isExpanded =\n      event.currentTarget.getAttribute(\"aria-expanded\") === \"true\";\n\n    if (collapseElement) {\n      // Toggle max-height for collapsible content\n      collapseElement.style.maxHeight = isExpanded\n        ? \"0\"\n        : collapseElement.scrollHeight + \"px\";\n\n      // Update aria-expanded attribute\n      event.currentTarget.setAttribute(\"aria-expanded\", !isExpanded);\n\n      // Toggle rotate-180 class on the icon\n      const icon = event.currentTarget.querySelector(\"[data-dui-icon]\");\n      if (icon) {\n        icon.classList.toggle(\"rotate-180\", !isExpanded);\n      }\n    }\n  }\n}\n\nexport function initCollapse() {\n  document\n    .querySelectorAll(\"[data-dui-toggle='collapse']\")\n    .forEach((button) => {\n      if (!initializedElements.has(button)) {\n        button.addEventListener(\"click\", toggleCollapse);\n        initializedElements.add(button); // Mark as initialized\n      }\n    });\n}\n\n// Auto-initialize collapsible components in the browser\nif (typeof window !== 'undefined') {\n  initCollapse();\n}\n","// Tabs Component\nexport function initTabs() {\n  document.querySelectorAll(\".tab-group\").forEach((tabGroup) => {\n    const tabList = tabGroup.querySelector(\"[role='tablist']\");\n    const tabLinks = tabList.querySelectorAll(\".tab-link\");\n    const tabContents = tabGroup.querySelectorAll(\".tab-content\");\n    const indicator = tabList.querySelector(\".tab-indicator\");\n    const isVertical = tabGroup.getAttribute(\"data-dui-orientation\") === \"vertical\";\n\n    function updateIndicator(link) {\n      const rect = link.getBoundingClientRect();\n      const parentRect = tabList.getBoundingClientRect();\n\n      requestAnimationFrame(() => {\n        if (isVertical) {\n          const offsetY = rect.top - parentRect.top;\n          const height = rect.height;\n\n          // Apply styles dynamically for vertical orientation\n          indicator.style.transform = `translateY(${offsetY}px)`;\n          indicator.style.height = `${height}px`;\n        } else {\n          const offsetX = rect.left - parentRect.left;\n          const width = rect.width;\n\n          // Apply styles dynamically for horizontal orientation\n          indicator.style.transform = `translateX(${offsetX}px)`;\n          indicator.style.width = `${width}px`;\n        }\n\n        // Make the indicator visible\n        indicator.classList.remove(\"hidden\");\n        indicator.style.opacity = \"1\";\n        indicator.style.scale = \"1\";\n      });\n    }\n\n    function activateTab(link) {\n      // Deactivate all tabs and hide their content\n      tabLinks.forEach((item) => item.classList.remove(\"active\"));\n      tabContents.forEach((content) => {\n        content.classList.add(\"hidden\");\n        content.classList.remove(\"block\");\n      });\n\n      // Activate the clicked tab\n      link.classList.add(\"active\");\n      const targetContent = document.getElementById(link.getAttribute(\"data-dui-tab-target\"));\n      if (targetContent) {\n        targetContent.classList.add(\"block\");\n        targetContent.classList.remove(\"hidden\");\n      }\n\n      // Update the indicator position\n      updateIndicator(link);\n    }\n\n    // Check for the tab with the `active` class and set the indicator initially\n    setTimeout(() => {\n      const activeLink = tabList.querySelector(\".tab-link.active\");\n      if (activeLink) {\n        activateTab(activeLink);\n      }\n    }, 100);\n\n    // Initialize click event listeners for each tab\n    tabLinks.forEach((link) => {\n      link.addEventListener(\"click\", (event) => {\n        event.preventDefault(); // Prevent default browser behavior\n        activateTab(link); // Activate the clicked tab and update the indicator\n      });\n    });\n  });\n}\n\n// Auto-initialize tabs in the browser\nif (typeof window !== \"undefined\") {\n  document.addEventListener(\"DOMContentLoaded\", () => {\n    initTabs();\n  });\n}\n\n\n\n\n\n\n\n\n","// Modal Component\n\nconst initializedModals = new WeakSet();\n\nexport function toggleModal(event) {\n  const modalID = event.currentTarget.getAttribute(\"data-dui-target\");\n  const modal = document.querySelector(modalID);\n\n  if (modal) {\n    const isHidden = modal.classList.contains(\"pointer-events-none\");\n    modal.classList.toggle(\"opacity-0\", !isHidden);\n\n    if (isHidden) {\n      modal.classList.remove(\"pointer-events-none\");\n    } else {\n      setTimeout(() => modal.classList.add(\"pointer-events-none\"), 300);\n    }\n\n    modal.classList.toggle(\"opacity-100\", isHidden);\n    const modalContent = modal.querySelector(isHidden ? \".scale-95\" : \".scale-100\");\n    modalContent.classList.toggle(\"scale-95\", !isHidden);\n    modalContent.classList.toggle(\"scale-100\", isHidden);\n    modal.setAttribute(\"aria-hidden\", !isHidden);\n\n    // Add or remove event listener for clicks outside modal content\n    if (isHidden) {\n      modal.addEventListener(\"click\", closeOnOutsideClick);\n    } else {\n      modal.removeEventListener(\"click\", closeOnOutsideClick);\n    }\n  }\n}\n\nexport function closeModal(event) {\n  const modal = event.currentTarget.closest(\".fixed\");\n\n  if (modal) {\n    modal.classList.add(\"opacity-0\");\n    modal.classList.remove(\"opacity-100\");\n    const modalContent = modal.querySelector(\".scale-100\");\n    modalContent.classList.add(\"scale-95\");\n    modalContent.classList.remove(\"scale-100\");\n\n    setTimeout(() => {\n      modal.classList.add(\"pointer-events-none\");\n      modal.setAttribute(\"aria-hidden\", \"true\");\n    }, 300);\n\n    modal.removeEventListener(\"click\", closeOnOutsideClick);\n  }\n}\n\nfunction closeOnOutsideClick(event) {\n  const modalContent = event.currentTarget.querySelector(\".scale-100, .scale-95\");\n\n  if (!modalContent.contains(event.target)) {\n    closeModal({ currentTarget: event.currentTarget });\n  }\n}\n\nexport function initModal() {\n  document.querySelectorAll(\"[data-dui-toggle='modal']\").forEach((trigger) => {\n    if (!initializedModals.has(trigger)) {\n      trigger.addEventListener(\"click\", toggleModal);\n      initializedModals.add(trigger);\n    }\n  });\n\n  document.querySelectorAll(\"[data-dui-dismiss='modal']\").forEach((button) => {\n    if (!initializedModals.has(button)) {\n      button.addEventListener(\"click\", closeModal);\n      initializedModals.add(button);\n    }\n  });\n}\n\n// Auto-initialize Modals in the Browser Environment\nif (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\n  initModal();\n}\n","import { loadPopperJs } from './utils/loadPopper.js';\n\n// Import components\nimport { initDropdowns } from './dropdown/dropdown.js';\nimport { initPopovers, cleanupPopovers } from './popover/popover.js';\nimport { initTooltips, cleanupTooltips } from './tooltip/tooltip.js';\nimport { initAlert } from './alert/alert.js';\nimport { initCollapse } from './collapse/collapse.js';\nimport { initTabs } from './tabs/tabs.js';\nimport { initModal } from './modal/modal.js';\n\n// Export individual components for named imports\nexport {\n  initAlert,\n  initCollapse,\n  initDropdowns,\n  initPopovers,\n  cleanupPopovers,\n  initTooltips,\n  cleanupTooltips,\n  initTabs,\n  initModal\n};\n\n// Combine all features into a global object for default export\nconst DavidAI = {\n  initAlert,\n  initCollapse,\n  initDropdowns,\n  initPopovers,\n  cleanupPopovers,\n  initTooltips,\n  cleanupTooltips,\n  initTabs,\n  initModal\n};\n\n// Auto-initialize components in the browser\nif (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\n  // Initialize Popper-independent components\n  initAlert();\n  initCollapse();\n  initTabs();\n  initModal();\n\n  // Load Popper.js once, then initialize dependent components\n  loadPopperJs()\n    .then(() => {\n      initDropdowns();\n      initPopovers();\n      initTooltips();\n    })\n    .catch((error) => {\n      console.error(\"Failed to load Popper.js:\", error);\n    });\n\n  // Expose DavidAI globally for UMD\n  window.DavidAI = DavidAI;\n}\n\nexport default DavidAI;\n"],"names":["popperLoaded","popperReady","loadPopperJs","Promise","resolve","reject","window","Popper","script","document","createElement","src","defer","onload","onerror","Error","head","appendChild","initializedDropdowns","WeakSet","Dropdown","dropdownElement","_classCallCheck","dropdown","button","querySelector","menu","popperInstance","placement","getAttribute","init","_createClass","key","value","_init","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this","wrap","_callee$","_context","prev","next","createPopper","modifiers","name","options","offset","addEventListener","e","stopPropagation","toggleDropdown","contains","target","closeDropdown","stop","apply","arguments","isExpanded","openDropdown","setAttribute","hidden","classList","remove","update","add","initDropdowns","querySelectorAll","forEach","has","initializedPopovers","activePopovers","initPopovers","trigger","_trigger$nextElementS","popoverClasses","plainContent","isOpenByDefault","hasAttribute","popoverInstance","popoverElement","originalContentElement","contentElement","nextElementSibling","matches","openPopover","className","cloneNode","textContent","console","error","body","push","closePopover","destroy","filter","p","event","cleanupPopovers","_ref","loadAndInitPopovers","_loadAndInitPopovers","initializedTooltips","activeTooltips","initTooltips","title","tooltipClasses","tooltipInstance","tooltipElement","customContentElement","showTooltip","contentClone","warn","hideTooltip","t","cleanupTooltips","loadAndInitTooltips","_loadAndInitTooltips","initializedElements","closeAlert","currentTarget","alert","closest","initAlert","toggleCollapse","collapseID","startsWith","collapseElement","style","maxHeight","scrollHeight","icon","toggle","initCollapse","initTabs","tabGroup","tabList","tabLinks","tabContents","indicator","isVertical","updateIndicator","link","rect","getBoundingClientRect","parentRect","requestAnimationFrame","offsetY","top","height","transform","concat","offsetX","left","width","opacity","scale","activateTab","item","content","targetContent","getElementById","setTimeout","activeLink","preventDefault","initializedModals","toggleModal","modalID","modal","isHidden","modalContent","closeOnOutsideClick","removeEventListener","closeModal","initModal","DavidAI","then"],"mappings":"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"}