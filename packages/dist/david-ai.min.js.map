{"version":3,"file":"david-ai.min.js","sources":["../src/utils/loadPopper.js","../src/dropdown/dropdown.js","../src/popover/popover.js","../src/tooltip/tooltip.js","../src/alert/alert.js","../src/collapse/collapse.js","../src/tabs/tabs.js","../src/modal/modal.js","../src/index.js"],"sourcesContent":["var popperLoaded = false; // Singleton flag to track loading state\nvar popperReady = null;   // Promise to handle loading Popper.js once\n\nexport function loadPopperJs() {\n  if (popperLoaded) {\n    return popperReady; // Return the existing Promise if already loading or loaded\n  }\n  popperLoaded = true; // Mark Popper.js as being loaded\n\n  popperReady = new Promise(function (resolve, reject) {\n    if (window.Popper) {\n      resolve(window.Popper); // If already loaded globally, resolve immediately\n      return;\n    }\n    var script = document.createElement(\"script\");\n    script.src = \"https://unpkg.com/@popperjs/core@2\";\n    script.defer = true;\n    script.onload = function () {\n      window.Popper = window.Popper || window.Popper; // Expose Popper globally\n      resolve(window.Popper); // Resolve once Popper.js is loaded\n    };\n    script.onerror = function () {\n      reject(new Error(\"Failed to load Popper.js\"));\n    };\n    document.head.appendChild(script);\n  });\n\n  return popperReady;\n}\n","// Dropdown component\nimport { loadPopperJs } from '../utils/loadPopper'; // Centralized loader\n\nconst initializedDropdowns = new WeakSet();\n\nexport class Dropdown {\n  constructor(dropdownElement) {\n    this.dropdown = dropdownElement;\n    this.button = this.dropdown.querySelector('[data-dui-toggle=\"dropdown\"]');\n    this.menu = this.dropdown.querySelector('[data-dui-role=\"menu\"]');\n    this.popperInstance = null;\n\n    this.placement = this.dropdown.getAttribute(\"data-dui-placement\") || \"bottom-start\";\n\n    this.init();\n  }\n\n  async init() {\n    // Ensure Popper.js is loaded\n    await loadPopperJs();\n\n    // Initialize Popper.js\n    this.popperInstance = Popper.createPopper(this.button, this.menu, {\n      placement: this.placement,\n      modifiers: [{ name: \"offset\", options: { offset: [0, 5] } }],\n    });\n\n    // Event listeners\n    this.button.addEventListener(\"click\", (e) => {\n      e.stopPropagation();\n      this.toggleDropdown();\n    });\n\n    document.addEventListener(\"click\", (e) => {\n      if (!this.dropdown.contains(e.target)) this.closeDropdown();\n    });\n  }\n\n  toggleDropdown() {\n    const isExpanded = this.button.getAttribute(\"aria-expanded\") === \"true\";\n    isExpanded ? this.closeDropdown() : this.openDropdown();\n  }\n\n  openDropdown() {\n    this.button.setAttribute(\"aria-expanded\", \"true\");\n    this.menu.hidden = false;\n    this.menu.classList.remove(\"hidden\");\n    this.popperInstance.update();\n  }\n\n  closeDropdown() {\n    this.button.setAttribute(\"aria-expanded\", \"false\");\n    this.menu.hidden = true;\n    this.menu.classList.add(\"hidden\");\n  }\n}\n\nexport function initDropdowns() {\n  document.querySelectorAll(\".dropdown\").forEach((dropdownElement) => {\n    if (!initializedDropdowns.has(dropdownElement)) {\n      new Dropdown(dropdownElement);\n      initializedDropdowns.add(dropdownElement);\n    }\n  });\n}\n","// Popover Component\nimport { loadPopperJs } from '../utils/loadPopper';\n\nconst initializedPopovers = new WeakSet(); // Prevent duplicate initialization\nlet activePopovers = []; // Track active popovers for cleanup\n\nexport function initPopovers() {\n  document.querySelectorAll(\"[data-dui-toggle='popover']\").forEach((trigger) => {\n    if (initializedPopovers.has(trigger)) return; // Avoid re-initializing\n\n    const placement = trigger.getAttribute(\"data-dui-placement\") || \"top\";\n    const popoverClasses = trigger.getAttribute(\"data-dui-popover-class\") || \"popover-default\";\n    const plainContent = trigger.getAttribute(\"data-dui-content\");\n    const isOpenByDefault = trigger.hasAttribute(\"data-dui-open\");\n\n    let popoverInstance = null;\n    let popoverElement = null;\n    let originalContentElement = null;\n\n    // Find content element next to the trigger\n    const contentElement = trigger.nextElementSibling?.matches(\"[data-dui-popover-content]\")\n      ? trigger.nextElementSibling\n      : null;\n\n    // Function to open the popover\n    function openPopover() {\n      popoverElement = document.createElement(\"div\");\n      popoverElement.className = popoverClasses;\n\n      // Use custom HTML content or plain text\n      if (contentElement) {\n        originalContentElement = contentElement.cloneNode(true);\n        originalContentElement.classList.remove(\"hidden\");\n        popoverElement.appendChild(originalContentElement);\n      } else if (plainContent) {\n        popoverElement.textContent = plainContent;\n      } else {\n        console.error(\"No content provided for popover:\", trigger);\n        return;\n      }\n\n      document.body.appendChild(popoverElement);\n\n      popoverInstance = Popper.createPopper(trigger, popoverElement, {\n        placement: placement,\n        modifiers: [{ name: \"offset\", options: { offset: [0, 8] } }],\n      });\n\n      // Track active popovers for cleanup\n      activePopovers.push({ trigger, popoverElement, popoverInstance });\n    }\n\n    // Function to close the popover\n    function closePopover() {\n      if (popoverInstance) {\n        popoverInstance.destroy();\n        popoverInstance = null;\n\n        if (originalContentElement) {\n          originalContentElement.classList.add(\"hidden\");\n        }\n\n        popoverElement.remove();\n        popoverElement = null;\n      }\n\n      // Remove from active popovers\n      activePopovers = activePopovers.filter((p) => p.trigger !== trigger);\n    }\n\n    // Toggle popover on click\n    trigger.addEventListener(\"click\", (event) => {\n      event.stopPropagation();\n      if (popoverInstance) {\n        closePopover();\n      } else {\n        openPopover();\n      }\n    });\n\n    // Open popover by default if specified\n    if (isOpenByDefault) {\n      openPopover();\n    }\n\n    // Mark as initialized\n    initializedPopovers.add(trigger);\n  });\n}\n\n// Cleanup function to destroy all active popovers\nexport function cleanupPopovers() {\n  activePopovers.forEach(({ popoverElement, popoverInstance }) => {\n    if (popoverInstance) popoverInstance.destroy();\n    if (popoverElement) popoverElement.remove();\n  });\n  activePopovers = [];\n}\n\n// Combined initialization function\nexport async function loadAndInitPopovers() {\n  await loadPopperJs();\n  initPopovers();\n}\n\n// Auto-initialize Popovers in the Browser Environment\nif (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\n  loadAndInitPopovers();\n}\n","// Tooltip Component\nimport { loadPopperJs } from '../utils/loadPopper';\n\nconst initializedTooltips = new WeakSet(); // Prevent duplicate initialization\nlet activeTooltips = []; // Track active tooltips for cleanup\n\nexport function initTooltips() {\n  document.querySelectorAll(\"[data-dui-toggle='tooltip']\").forEach((trigger) => {\n    if (initializedTooltips.has(trigger)) return; // Avoid re-initializing\n\n    const title = trigger.getAttribute(\"data-dui-title\"); // Plain text content\n    const placement = trigger.getAttribute(\"data-dui-placement\") || \"top\";\n    const tooltipClasses = trigger.getAttribute(\"data-dui-tooltip-class\") || \"tooltip-default\";\n\n    let tooltipInstance = null;\n    let tooltipElement = null;\n    let customContentElement = null;\n\n    // Check for sibling content with custom HTML\n    if (trigger.nextElementSibling?.matches(\"[data-dui-tooltip-content]\")) {\n      customContentElement = trigger.nextElementSibling;\n    }\n\n    // Function to show the tooltip\n    function showTooltip() {\n      tooltipElement = document.createElement(\"div\");\n      tooltipElement.className = tooltipClasses;\n\n      // Use custom HTML content or plain text\n      if (customContentElement) {\n        const contentClone = customContentElement.cloneNode(true);\n        contentClone.classList.remove(\"hidden\");\n        tooltipElement.appendChild(contentClone);\n      } else if (title) {\n        tooltipElement.textContent = title;\n      } else {\n        console.warn(\"No tooltip content provided for:\", trigger);\n        return;\n      }\n\n      document.body.appendChild(tooltipElement);\n\n      tooltipInstance = Popper.createPopper(trigger, tooltipElement, {\n        placement: placement,\n        modifiers: [{ name: \"offset\", options: { offset: [0, 8] } }],\n      });\n\n      // Track active tooltips for cleanup\n      activeTooltips.push({ trigger, tooltipElement, tooltipInstance });\n    }\n\n    // Function to hide the tooltip\n    function hideTooltip() {\n      if (tooltipInstance) {\n        tooltipInstance.destroy();\n        tooltipInstance = null;\n      }\n\n      if (tooltipElement) {\n        tooltipElement.remove();\n        tooltipElement = null;\n      }\n\n      // Remove from active tooltips\n      activeTooltips = activeTooltips.filter((t) => t.trigger !== trigger);\n    }\n\n    // Add event listeners for showing and hiding tooltips\n    trigger.addEventListener(\"mouseenter\", showTooltip);\n    trigger.addEventListener(\"mouseleave\", hideTooltip);\n\n    // Mark as initialized\n    initializedTooltips.add(trigger);\n  });\n}\n\n// Cleanup function to destroy all active tooltips\nexport function cleanupTooltips() {\n  activeTooltips.forEach(({ tooltipElement, tooltipInstance }) => {\n    if (tooltipInstance) tooltipInstance.destroy();\n    if (tooltipElement) tooltipElement.remove();\n  });\n  activeTooltips = [];\n}\n\n// Combined initialization function\nexport async function loadAndInitTooltips() {\n  await loadPopperJs();\n  initTooltips();\n}\n\n// Auto-initialize Tooltips in the Browser Environment\nif (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\n  loadAndInitTooltips();\n}\n","// src/alert/alert.js\n\nconst initializedElements = new WeakSet();\n\nexport function closeAlert(event) {\n  const button = event.currentTarget;\n  const alert = button.closest('[role=\"alert\"]');\n  if (alert) {\n    alert.remove(); // Remove the alert\n  }\n}\n\nexport function initAlert() {\n  // Attach event listeners only to buttons that haven't been initialized\n  document.querySelectorAll(\"[data-dui-dismiss='alert']\").forEach((button) => {\n    if (!initializedElements.has(button)) {\n      button.addEventListener(\"click\", closeAlert);\n      initializedElements.add(button); // Track this button as initialized\n    }\n  });\n}\n\n// Auto-initialize if running in a browser environment\nif (typeof window !== 'undefined') {\n  initAlert();\n}\n","// Collapse component\nconst initializedElements = new WeakSet();\n\nexport function toggleCollapse(event) {\n  const collapseID = event.currentTarget.getAttribute(\"data-dui-target\");\n\n  if (collapseID && collapseID.startsWith(\"#\")) {\n    const collapseElement = document.querySelector(collapseID);\n    const isExpanded =\n      event.currentTarget.getAttribute(\"aria-expanded\") === \"true\";\n\n    if (collapseElement) {\n      // Toggle max-height for collapsible content\n      collapseElement.style.maxHeight = isExpanded\n        ? \"0\"\n        : collapseElement.scrollHeight + \"px\";\n\n      // Update aria-expanded attribute\n      event.currentTarget.setAttribute(\"aria-expanded\", !isExpanded);\n\n      // Toggle rotate-180 class on the icon\n      const icon = event.currentTarget.querySelector(\"[data-dui-icon]\");\n      if (icon) {\n        icon.classList.toggle(\"rotate-180\", !isExpanded);\n      }\n    }\n  }\n}\n\nexport function initCollapse() {\n  document\n    .querySelectorAll(\"[data-dui-toggle='collapse']\")\n    .forEach((button) => {\n      if (!initializedElements.has(button)) {\n        button.addEventListener(\"click\", toggleCollapse);\n        initializedElements.add(button); // Mark as initialized\n      }\n    });\n}\n\n// Auto-initialize collapsible components in the browser\nif (typeof window !== 'undefined') {\n  initCollapse();\n}\n","// Tabs Component\nexport function initTabs() {\n  document.querySelectorAll(\".tab-group\").forEach((tabGroup) => {\n    const tabList = tabGroup.querySelector(\"[role='tablist']\");\n    const tabLinks = tabList.querySelectorAll(\".tab-link\");\n    const tabContents = tabGroup.querySelectorAll(\".tab-content\");\n    const indicator = tabList.querySelector(\".tab-indicator\");\n    const isVertical = tabGroup.getAttribute(\"data-dui-orientation\") === \"vertical\";\n\n    function updateIndicator(link) {\n      const rect = link.getBoundingClientRect();\n      const parentRect = tabList.getBoundingClientRect();\n\n      requestAnimationFrame(() => {\n        if (isVertical) {\n          const offsetY = rect.top - parentRect.top;\n          const height = rect.height;\n\n          // Apply styles dynamically for vertical orientation\n          indicator.style.transform = `translateY(${offsetY}px)`;\n          indicator.style.height = `${height}px`;\n        } else {\n          const offsetX = rect.left - parentRect.left;\n          const width = rect.width;\n\n          // Apply styles dynamically for horizontal orientation\n          indicator.style.transform = `translateX(${offsetX}px)`;\n          indicator.style.width = `${width}px`;\n        }\n\n        // Make the indicator visible\n        indicator.classList.remove(\"hidden\");\n        indicator.style.opacity = \"1\";\n        indicator.style.scale = \"1\";\n      });\n    }\n\n    function activateTab(link) {\n      // Deactivate all tabs and hide their content\n      tabLinks.forEach((item) => item.classList.remove(\"active\"));\n      tabContents.forEach((content) => {\n        content.classList.add(\"hidden\");\n        content.classList.remove(\"block\");\n      });\n\n      // Activate the clicked tab\n      link.classList.add(\"active\");\n      const targetContent = document.getElementById(link.getAttribute(\"data-dui-tab-target\"));\n      if (targetContent) {\n        targetContent.classList.add(\"block\");\n        targetContent.classList.remove(\"hidden\");\n      }\n\n      // Update the indicator position\n      updateIndicator(link);\n    }\n\n    // Check for the tab with the `active` class and set the indicator initially\n    setTimeout(() => {\n      const activeLink = tabList.querySelector(\".tab-link.active\");\n      if (activeLink) {\n        activateTab(activeLink);\n      }\n    }, 100);\n\n    // Initialize click event listeners for each tab\n    tabLinks.forEach((link) => {\n      link.addEventListener(\"click\", (event) => {\n        event.preventDefault(); // Prevent default browser behavior\n        activateTab(link); // Activate the clicked tab and update the indicator\n      });\n    });\n  });\n}\n\n// Auto-initialize tabs in the browser\nif (typeof window !== \"undefined\") {\n  document.addEventListener(\"DOMContentLoaded\", () => {\n    initTabs();\n  });\n}\n\n\n\n\n\n\n\n\n","// Modal Component\n\nconst initializedModals = new WeakSet();\n\nexport function toggleModal(event) {\n  const modalID = event.currentTarget.getAttribute(\"data-dui-target\");\n  const modal = document.querySelector(modalID);\n\n  if (modal) {\n    const isHidden = modal.classList.contains(\"pointer-events-none\");\n    modal.classList.toggle(\"opacity-0\", !isHidden);\n\n    if (isHidden) {\n      modal.classList.remove(\"pointer-events-none\");\n    } else {\n      setTimeout(() => modal.classList.add(\"pointer-events-none\"), 300);\n    }\n\n    modal.classList.toggle(\"opacity-100\", isHidden);\n    const modalContent = modal.querySelector(isHidden ? \".scale-95\" : \".scale-100\");\n    modalContent.classList.toggle(\"scale-95\", !isHidden);\n    modalContent.classList.toggle(\"scale-100\", isHidden);\n    modal.setAttribute(\"aria-hidden\", !isHidden);\n\n    // Add or remove event listener for clicks outside modal content\n    if (isHidden) {\n      modal.addEventListener(\"click\", closeOnOutsideClick);\n    } else {\n      modal.removeEventListener(\"click\", closeOnOutsideClick);\n    }\n  }\n}\n\nexport function closeModal(event) {\n  const modal = event.currentTarget.closest(\".fixed\");\n\n  if (modal) {\n    modal.classList.add(\"opacity-0\");\n    modal.classList.remove(\"opacity-100\");\n    const modalContent = modal.querySelector(\".scale-100\");\n    modalContent.classList.add(\"scale-95\");\n    modalContent.classList.remove(\"scale-100\");\n\n    setTimeout(() => {\n      modal.classList.add(\"pointer-events-none\");\n      modal.setAttribute(\"aria-hidden\", \"true\");\n    }, 300);\n\n    modal.removeEventListener(\"click\", closeOnOutsideClick);\n  }\n}\n\nfunction closeOnOutsideClick(event) {\n  const modalContent = event.currentTarget.querySelector(\".scale-100, .scale-95\");\n\n  if (!modalContent.contains(event.target)) {\n    closeModal({ currentTarget: event.currentTarget });\n  }\n}\n\nexport function initModal() {\n  document.querySelectorAll(\"[data-dui-toggle='modal']\").forEach((trigger) => {\n    if (!initializedModals.has(trigger)) {\n      trigger.addEventListener(\"click\", toggleModal);\n      initializedModals.add(trigger);\n    }\n  });\n\n  document.querySelectorAll(\"[data-dui-dismiss='modal']\").forEach((button) => {\n    if (!initializedModals.has(button)) {\n      button.addEventListener(\"click\", closeModal);\n      initializedModals.add(button);\n    }\n  });\n}\n\n// Auto-initialize Modals in the Browser Environment\nif (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\n  initModal();\n}\n","import { loadPopperJs } from './utils/loadPopper.js';\n\n// Import components\nimport { initDropdowns } from './dropdown/dropdown.js';\nimport { initPopovers, cleanupPopovers } from './popover/popover.js';\nimport { initTooltips, cleanupTooltips } from './tooltip/tooltip.js';\nimport { initAlert } from './alert/alert.js';\nimport { initCollapse } from './collapse/collapse.js';\nimport { initTabs } from './tabs/tabs.js';\nimport { initModal } from './modal/modal.js';\n\n// Export individual components for named imports\nexport {\n  initAlert,\n  initCollapse,\n  initDropdowns,\n  initPopovers,\n  cleanupPopovers,\n  initTooltips,\n  cleanupTooltips,\n  initTabs,\n  initModal\n};\n\n// Combine all features into a global object for default export\nconst DavidAI = {\n  initAlert,\n  initCollapse,\n  initDropdowns,\n  initPopovers,\n  cleanupPopovers,\n  initTooltips,\n  cleanupTooltips,\n  initTabs,\n  initModal\n};\n\n// Auto-initialize components in the browser\nif (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\n  // Initialize Popper-independent components\n  initAlert();\n  initCollapse();\n  initTabs();\n  initModal();\n\n  // Load Popper.js once, then initialize dependent components\n  loadPopperJs()\n    .then(() => {\n      initDropdowns();\n      initPopovers();\n      initTooltips();\n    })\n    .catch((error) => {\n      console.error(\"Failed to load Popper.js:\", error);\n    });\n\n  // Expose DavidAI globally for UMD\n  window.DavidAI = DavidAI;\n}\n\nexport default DavidAI;\n"],"names":["popperLoaded","popperReady","loadPopperJs","Promise","resolve","reject","window","Popper","script","document","createElement","src","defer","onload","onerror","Error","head","appendChild","initializedDropdowns","WeakSet","Dropdown","dropdownElement","_classCallCheck","this","dropdown","button","querySelector","menu","popperInstance","placement","getAttribute","init","key","value","_init","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this","wrap","_context","prev","next","createPopper","modifiers","name","options","offset","addEventListener","e","stopPropagation","toggleDropdown","contains","target","closeDropdown","stop","apply","arguments","openDropdown","setAttribute","hidden","classList","remove","update","add","initDropdowns","querySelectorAll","forEach","has","initializedPopovers","activePopovers","initPopovers","trigger","_trigger$nextElementS","popoverClasses","plainContent","isOpenByDefault","hasAttribute","popoverInstance","popoverElement","originalContentElement","contentElement","nextElementSibling","matches","event","destroy","filter","p","openPopover","className","cloneNode","console","error","textContent","body","push","cleanupPopovers","_ref","_loadAndInitPopovers","loadAndInitPopovers","initializedTooltips","activeTooltips","initTooltips","title","tooltipClasses","tooltipInstance","tooltipElement","customContentElement","contentClone","warn","t","cleanupTooltips","_loadAndInitTooltips","loadAndInitTooltips","initializedElements","closeAlert","alert","currentTarget","closest","initAlert","toggleCollapse","collapseID","startsWith","collapseElement","isExpanded","style","maxHeight","scrollHeight","icon","toggle","initCollapse","initTabs","tabGroup","tabList","tabLinks","tabContents","indicator","isVertical","activateTab","link","item","content","targetContent","getElementById","rect","getBoundingClientRect","parentRect","requestAnimationFrame","offsetY","top","height","transform","concat","offsetX","left","width","opacity","scale","updateIndicator","setTimeout","activeLink","preventDefault","initializedModals","toggleModal","modalID","modal","isHidden","modalContent","closeOnOutsideClick","removeEventListener","closeModal","initModal","DavidAI","then"],"mappings":"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"}