{"version":3,"file":"david-ai.min.js","sources":["../src/utils/loadPopper.js","../src/dropdown/dropdown.js","../src/popover/popover.js","../src/tooltip/tooltip.js","../src/alert/alert.js","../src/collapse/collapse.js","../src/tabs/tabs.js","../src/modal/modal.js","../src/index.js"],"sourcesContent":["var popperLoaded = false; // Singleton flag to track loading state\nvar popperReady = null;   // Promise to handle loading Popper.js once\n\nexport function loadPopperJs() {\n  if (popperLoaded) {\n    return popperReady; // Return the existing Promise if already loading or loaded\n  }\n  popperLoaded = true; // Mark Popper.js as being loaded\n\n  popperReady = new Promise(function (resolve, reject) {\n    if (window.Popper) {\n      resolve(window.Popper); // If already loaded globally, resolve immediately\n      return;\n    }\n    var script = document.createElement(\"script\");\n    script.src = \"https://unpkg.com/@popperjs/core@2\";\n    script.defer = true;\n    script.onload = function () {\n      window.Popper = window.Popper || window.Popper; // Expose Popper globally\n      resolve(window.Popper); // Resolve once Popper.js is loaded\n    };\n    script.onerror = function () {\n      reject(new Error(\"Failed to load Popper.js\"));\n    };\n    document.head.appendChild(script);\n  });\n\n  return popperReady;\n}\n","// Dropdown component\nexport class Dropdown {\n  constructor(dropdownElement) {\n    this.dropdown = dropdownElement;\n    this.button = this.dropdown.querySelector('[data-dui-toggle=\"dropdown\"]');\n    this.menu = this.dropdown.querySelector('[data-dui-role=\"menu\"]');\n    this.popperInstance = null;\n\n    // Get placement dynamically or default to 'bottom-start'\n    this.placement = this.dropdown.getAttribute(\"data-dui-placement\") || \"bottom-start\";\n\n    this.init();\n  }\n\n  init() {\n    // Initialize Popper.js\n    this.popperInstance = Popper.createPopper(this.button, this.menu, {\n      placement: this.placement,\n      modifiers: [{ name: \"offset\", options: { offset: [0, 5] } }],\n    });\n\n    // Check for open attribute\n    if (this.dropdown.hasAttribute(\"data-dui-open\")) {\n      this.openDropdown();\n    }\n\n    // Toggle dropdown on button click\n    this.button.addEventListener(\"click\", (e) => {\n      e.stopPropagation();\n      this.toggleDropdown();\n    });\n\n    // Close dropdown on outside click\n    document.addEventListener(\"click\", (e) => {\n      if (!this.dropdown.contains(e.target)) {\n        this.closeDropdown();\n      }\n    });\n  }\n\n  toggleDropdown() {\n    const isExpanded = this.button.getAttribute(\"aria-expanded\") === \"true\";\n    isExpanded ? this.closeDropdown() : this.openDropdown();\n  }\n\n  openDropdown() {\n    this.button.setAttribute(\"aria-expanded\", \"true\");\n    this.menu.hidden = false;\n    this.menu.classList.remove(\"hidden\");\n    this.popperInstance.update();\n    this.closeSiblings();\n  }\n\n  closeDropdown() {\n    this.button.setAttribute(\"aria-expanded\", \"false\");\n    this.menu.hidden = true;\n    this.menu.classList.add(\"hidden\");\n  }\n\n  closeSiblings() {\n    const siblingMenus = this.dropdown.parentElement.querySelectorAll(\n      '[data-dui-role=\"menu\"]:not(.hidden)'\n    );\n    siblingMenus.forEach((siblingMenu) => {\n      if (siblingMenu !== this.menu) {\n        siblingMenu.classList.add(\"hidden\");\n        siblingMenu.parentElement\n          .querySelector('[data-dui-toggle=\"dropdown\"]')\n          .setAttribute(\"aria-expanded\", \"false\");\n      }\n    });\n  }\n}\n\nexport function initDropdowns() {\n  document.querySelectorAll(\".dropdown\").forEach((dropdownElement) => {\n    new Dropdown(dropdownElement);\n  });\n}","// Popover component\nexport function initPopovers() {\n  const popoverTriggers = document.querySelectorAll(\"[data-dui-toggle='popover']\");\n\n  popoverTriggers.forEach(trigger => {\n    const placement = trigger.getAttribute(\"data-dui-placement\") || \"top\";\n    const popoverClasses = trigger.getAttribute(\"data-dui-popover-class\") || \"popover-default\";\n    const plainContent = trigger.getAttribute(\"data-dui-content\");\n    const isOpenByDefault = trigger.hasAttribute(\"data-dui-open\");\n\n    let popoverInstance = null;\n    let popoverElement = null;\n    let originalContentElement = null;\n\n    // Find content element next to the trigger\n    const contentElement = trigger.nextElementSibling?.matches(\"[data-dui-popover-content]\")\n      ? trigger.nextElementSibling\n      : null;\n\n    // Function to open the popover\n    function openPopover() {\n      popoverElement = document.createElement(\"div\");\n      popoverElement.className = popoverClasses;\n\n      // Use custom HTML content or plain text\n      if (contentElement) {\n        originalContentElement = contentElement.cloneNode(true);\n        originalContentElement.classList.remove(\"hidden\");\n        popoverElement.appendChild(originalContentElement);\n      } else if (plainContent) {\n        popoverElement.textContent = plainContent;\n      } else {\n        console.error(\"No content provided for popover:\", trigger);\n        return;\n      }\n\n      document.body.appendChild(popoverElement);\n\n      popoverInstance = Popper.createPopper(trigger, popoverElement, {\n        placement: placement,\n        modifiers: [\n          { name: \"offset\", options: { offset: [0, 8] } }\n        ],\n      });\n\n      // Store references for cleanup\n      trigger._popoverInstance = popoverInstance;\n      trigger._popoverElement = popoverElement;\n    }\n\n    // Function to close the popover\n    function closePopover() {\n      if (popoverInstance) {\n        popoverInstance.destroy();\n        popoverInstance = null;\n\n        if (originalContentElement) {\n          originalContentElement.classList.add(\"hidden\");\n        }\n\n        popoverElement.remove();\n        popoverElement = null;\n      }\n    }\n\n    // Toggle popover on click\n    trigger.addEventListener(\"click\", (event) => {\n      event.stopPropagation();\n      if (popoverInstance) {\n        closePopover();\n      } else {\n        openPopover();\n      }\n    });\n\n    // Open popover by default if specified\n    if (isOpenByDefault) {\n      openPopover();\n    }\n  });\n}\n","// Tooltip component\nexport function initTooltips() {\n  const tooltipTriggers = document.querySelectorAll(\"[data-dui-toggle='tooltip']\");\n\n  tooltipTriggers.forEach((trigger) => {\n    const title = trigger.getAttribute(\"data-dui-title\"); // Plain text content\n    const placement = trigger.getAttribute(\"data-dui-placement\") || \"top\";\n    const tooltipClasses = trigger.getAttribute(\"data-dui-tooltip-class\") || \"tooltip-default\";\n\n    let tooltipInstance = null;\n    let tooltipElement = null;\n    let customContentElement = null;\n\n    // Check for sibling content with custom HTML\n    if (trigger.nextElementSibling?.matches(\"[data-dui-tooltip-content]\")) {\n      customContentElement = trigger.nextElementSibling;\n    }\n\n    // Show the tooltip\n    function showTooltip() {\n      if (tooltipElement) return; // Avoid duplicate tooltips\n\n      tooltipElement = document.createElement(\"div\");\n      tooltipElement.className = tooltipClasses;\n\n      // Use custom HTML content or plain text\n      if (customContentElement) {\n        const contentClone = customContentElement.cloneNode(true);\n        contentClone.classList.remove(\"hidden\");\n        tooltipElement.appendChild(contentClone);\n      } else if (title) {\n        tooltipElement.textContent = title;\n      } else {\n        console.warn(\"No tooltip content provided for:\", trigger);\n        return;\n      }\n\n      document.body.appendChild(tooltipElement);\n\n      // Create Popper.js instance\n      tooltipInstance = Popper.createPopper(trigger, tooltipElement, {\n        placement: placement,\n        modifiers: [{ name: \"offset\", options: { offset: [0, 8] } }],\n      });\n    }\n\n    // Hide the tooltip\n    function hideTooltip() {\n      if (tooltipElement && !trigger.classList.contains(\"static-tooltip\")) {\n        tooltipInstance.destroy();\n        tooltipInstance = null;\n        tooltipElement.remove();\n        tooltipElement = null;\n      }\n    }\n\n    // Event Listeners\n    trigger.addEventListener(\"mouseenter\", showTooltip);\n    trigger.addEventListener(\"mouseleave\", hideTooltip);\n\n    // Toggle static tooltips on click\n    trigger.addEventListener(\"click\", () => {\n      if (trigger.classList.contains(\"static-tooltip\")) {\n        trigger.classList.remove(\"static-tooltip\");\n        hideTooltip();\n      } else {\n        trigger.classList.add(\"static-tooltip\");\n        showTooltip();\n      }\n    });\n  });\n}\n","// src/alert/alert.js\n\nexport function closeAlert(event) {\n  const button = event.currentTarget;\n  const alert = button.closest('[role=\"alert\"]');\n  if (alert) {\n    alert.parentNode.removeChild(alert);\n  }\n}\n\nexport function initAlert() {\n  const dismissButtons = document.querySelectorAll(\"[data-dui-dismiss='alert']\");\n  dismissButtons.forEach(button => {\n    button.addEventListener(\"click\", closeAlert);\n  });\n}\n\n// Auto-initialize if running in a browser environment\nif (typeof window !== 'undefined') {\n  initAlert();\n}\n","// Collapse component\nexport function toggleCollapse(event) {\n  const collapseID =\n    event.currentTarget.getAttribute(\"data-dui-target\")\n\n  if (collapseID && collapseID.startsWith(\"#\")) {\n    const collapseElement = document.querySelector(collapseID);\n    const isExpanded = event.currentTarget.getAttribute(\"aria-expanded\") === \"true\";\n\n    if (collapseElement) {\n      // Toggle max-height for collapsible content\n      collapseElement.style.maxHeight = isExpanded\n        ? \"0\"\n        : collapseElement.scrollHeight + \"px\";\n\n      // Update aria-expanded attribute\n      event.currentTarget.setAttribute(\"aria-expanded\", !isExpanded);\n\n      // Toggle rotate-180 class on the icon\n      const icon = event.currentTarget.querySelector(\"[data-dui-icon]\");\n      if (icon) {\n        icon.classList.toggle(\"rotate-180\", !isExpanded);\n      }\n    }\n  }\n}\n\nexport function initCollapse() {\n  document.querySelectorAll(\"[data-dui-toggle='collapse']\").forEach(button => {\n    button.addEventListener(\"click\", toggleCollapse);\n  });\n}\n\n// Auto-initialize collapsible components in the browser\nif (typeof window !== 'undefined') {\n  initCollapse();\n}\n","// Tabs Component\nexport function initTabs() {\n  document.querySelectorAll(\".tab-group\").forEach((tabGroup) => {\n    const tabList = tabGroup.querySelector(\"[role='tablist']\");\n    const tabLinks = tabList.querySelectorAll(\".tab-link\");\n    const tabContents = tabGroup.querySelectorAll(\".tab-content\");\n    const indicator = tabList.querySelector(\".tab-indicator\");\n\n    const isVertical = tabGroup.getAttribute(\"data-dui-orientation\") === \"vertical\";\n\n    // Function to update the indicator position dynamically\n    function updateIndicator(link) {\n      const rect = link.getBoundingClientRect();\n      const parentRect = tabList.getBoundingClientRect();\n\n      if (isVertical) {\n        // For vertical tabs\n        indicator.style.height = `${rect.height}px`;\n        indicator.style.transform = `translateY(${rect.top - parentRect.top}px)`;\n      } else {\n        // For horizontal tabs\n        indicator.style.width = `${rect.width}px`;\n        indicator.style.transform = `translateX(${rect.left - parentRect.left}px)`;\n      }\n    }\n\n    // Function to handle tab activation\n    function activateTab(link) {\n      // Deactivate all tabs and hide contents\n      tabLinks.forEach((item) => item.classList.remove(\"active\"));\n      tabContents.forEach((content) => {\n        content.classList.add(\"hidden\");\n        content.classList.remove(\"block\");\n      });\n\n      // Activate the clicked tab\n      link.classList.add(\"active\");\n      const targetContent = document.getElementById(link.getAttribute(\"data-dui-tab-target\"));\n      if (targetContent) {\n        targetContent.classList.add(\"block\");\n        targetContent.classList.remove(\"hidden\");\n      }\n\n      // Update the indicator position\n      updateIndicator(link);\n    }\n\n    // Initialize the tabs\n    tabLinks.forEach((link) => {\n      // If a tab is already active, update the indicator\n      if (link.classList.contains(\"active\")) {\n        activateTab(link);\n      }\n\n      // Add click event listener to each tab link\n      link.addEventListener(\"click\", (event) => {\n        event.preventDefault();\n        activateTab(link);\n      });\n    });\n  });\n}\n\n// Auto-initialize tabs in the browser\nif (typeof window !== \"undefined\") {\n  initTabs();\n}\n","// Modal Component\n\nexport function toggleModal(event) {\n  const modalID = event.currentTarget.getAttribute(\"data-dui-target\");\n  const modal = document.querySelector(modalID);\n\n  if (modal) {\n    const isHidden = modal.classList.contains(\"pointer-events-none\");\n    modal.classList.toggle(\"opacity-0\", !isHidden);\n\n    if (isHidden) {\n      modal.classList.remove(\"pointer-events-none\");\n    } else {\n      setTimeout(() => modal.classList.add(\"pointer-events-none\"), 300);\n    }\n\n    modal.classList.toggle(\"opacity-100\", isHidden);\n    const modalContent = modal.querySelector(isHidden ? \".scale-95\" : \".scale-100\");\n    modalContent.classList.toggle(\"scale-95\", !isHidden);\n    modalContent.classList.toggle(\"scale-100\", isHidden);\n    modal.setAttribute(\"aria-hidden\", !isHidden);\n\n    // Add or remove event listener for clicks outside modal content\n    if (isHidden) {\n      modal.addEventListener(\"click\", closeOnOutsideClick);\n    } else {\n      modal.removeEventListener(\"click\", closeOnOutsideClick);\n    }\n  }\n}\n\nexport function closeModal(event) {\n  const modal = event.currentTarget.closest(\".fixed\");\n\n  if (modal) {\n    modal.classList.add(\"opacity-0\");\n    modal.classList.remove(\"opacity-100\");\n    const modalContent = modal.querySelector(\".scale-100\");\n    modalContent.classList.add(\"scale-95\");\n    modalContent.classList.remove(\"scale-100\");\n\n    setTimeout(() => {\n      modal.classList.add(\"pointer-events-none\");\n      modal.setAttribute(\"aria-hidden\", \"true\");\n    }, 300);\n\n    modal.removeEventListener(\"click\", closeOnOutsideClick);\n  }\n}\n\nfunction closeOnOutsideClick(event) {\n  const modalContent = event.currentTarget.querySelector(\".scale-100, .scale-95\");\n\n  if (!modalContent.contains(event.target)) {\n    closeModal({ currentTarget: event.currentTarget });\n  }\n}\n\nexport function initModal() {\n  document.querySelectorAll(\"[data-dui-toggle='modal']\").forEach((trigger) => {\n    trigger.addEventListener(\"click\", toggleModal);\n  });\n\n  document.querySelectorAll(\"[data-dui-dismiss='modal']\").forEach((button) => {\n    button.addEventListener(\"click\", closeModal);\n  });\n}\n\n// Auto-initialize Modals in the Browser Environment\nif (typeof window !== \"undefined\") {\n  initModal();\n}\n","import { loadPopperJs } from './utils/loadPopper.js';\n\n// Import components\nimport { initDropdowns } from './dropdown/dropdown.js';\nimport { initPopovers } from './popover/popover.js';\nimport { initTooltips } from './tooltip/tooltip.js';\nimport { initAlert } from './alert/alert.js';\nimport { initCollapse } from './collapse/collapse.js';\nimport { initTabs } from './tabs/tabs.js';\nimport { initModal } from './modal/modal.js';\n\n// Export individual components for named imports\nexport {\n  initAlert,\n  initCollapse,\n  initDropdowns,\n  initPopovers,\n  initTooltips,\n  initTabs,\n  initModal\n};\n\n// Combine all features into a global object for default export\nconst DavidAI = {\n  initAlert,\n  initCollapse,\n  initDropdowns,\n  initPopovers,\n  initTooltips,\n  initTabs,\n  initModal\n};\n\n// Auto-initialize components in the browser\nif (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\n  // Initialize Popper-independent components\n  initAlert();\n  initCollapse();\n  initTabs();\n  initModal();\n\n  // Load Popper.js once, then initialize dependent components\n  loadPopperJs()\n    .then(() => {\n      initDropdowns();\n      initPopovers();\n      initTooltips();\n    })\n    .catch((error) => {\n      console.error(\"Failed to load Popper.js:\", error);\n    });\n\n  // Expose DavidAI globally for UMD\n  window.DavidAI = DavidAI;\n}\n\nexport default DavidAI;\n"],"names":["popperLoaded","popperReady","Dropdown","dropdownElement","_classCallCheck","this","dropdown","button","querySelector","menu","popperInstance","placement","getAttribute","init","key","value","_this","Popper","createPopper","modifiers","name","options","offset","hasAttribute","openDropdown","addEventListener","e","stopPropagation","toggleDropdown","document","contains","target","closeDropdown","setAttribute","hidden","classList","remove","update","closeSiblings","add","_this2","parentElement","querySelectorAll","forEach","siblingMenu","initDropdowns","initPopovers","trigger","_trigger$nextElementS","popoverClasses","plainContent","isOpenByDefault","popoverInstance","popoverElement","originalContentElement","contentElement","nextElementSibling","matches","openPopover","createElement","className","cloneNode","appendChild","console","error","textContent","body","_popoverInstance","_popoverElement","event","destroy","initTooltips","title","tooltipClasses","tooltipInstance","tooltipElement","customContentElement","showTooltip","contentClone","warn","hideTooltip","closeAlert","alert","currentTarget","closest","parentNode","removeChild","initAlert","toggleCollapse","collapseID","startsWith","collapseElement","isExpanded","style","maxHeight","scrollHeight","icon","toggle","initCollapse","initTabs","tabGroup","tabList","tabLinks","tabContents","indicator","isVertical","activateTab","link","item","content","targetContent","getElementById","rect","getBoundingClientRect","parentRect","height","concat","transform","top","width","left","updateIndicator","preventDefault","toggleModal","modalID","modal","isHidden","setTimeout","modalContent","closeOnOutsideClick","removeEventListener","closeModal","initModal","window","DavidAI","Promise","resolve","reject","script","src","defer","onload","onerror","Error","head","then"],"mappings":"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"}